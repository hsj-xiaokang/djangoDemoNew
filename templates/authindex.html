<html>
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119193338-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-119193338-2');
    </script>

    <title>dynIndex-Django模板</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Pure CSS Oil Painting - by Diana Smith aka cyanHarlow" />
    <meta property="og:description" content="Pure CSS Oil Painting - by Diana Smith aka cyanHarlow" />
    <meta name="description" content="Pure CSS Oil Painting - by Diana Smith aka cyanHarlow" />
    <meta property="og:title" content="Pure CSS Oil Painting - by Diana Smith aka cyanHarlow">

    <meta property="og:image" content="https://raw.githubusercontent.com/cyanharlow/purecss-francine/master/preview.jpg">
    <meta name="viewport" content="width=722" />
    <meta name="author" content="Diana Smith">
    <meta name="keywords" content="cyanharlow, diana, css, art" />

         {#注意这里的static是在settings.py里配置的引用指针#}
    {% load static %}
    <script src="{% static "/js/jquery.min.js" %}"></script>
    <script src="{% static "/js/jquery.util.Ajax.httpRequest.js" %}"></script>
    <script src="{% static "/js/js.cookie-2.2.0.min.js" %}"></script>

</head>

<body>
 <div class="lzhdiv">
    用户提交数据的表单
    <form action="/createAuthUser" method="post">
        <input type="text" name="username">
        <br>
        <input type="password" name="password">
        <br>
        <input type="text" name="email">
        <br>
        <input type="submit" value="提交">
    </form>
</div>
<button onclick="loginOp()">登录操作模拟</button>
<script>
       function loginOp(){
            $.httpRequestAsyncPost("/loginOp",
  	    		{'username':'CTRL-BREAK好的','password':'123456'},
  	    		function(result){
  	    			console.log(result)
  	    		},
  	    		function(result){
  	    			console.log(result);
  	    		});
       }
   </script>

<button onclick="logoutOp()">登出操作模拟</button>
<script>
       function logoutOp(){
            $.httpRequestAsyncPost("/logoutOp",
  	    		{},
  	    		function(result){
  	    			console.log(result)
  	    		},
  	    		function(result){
  	    			console.log(result);
  	    		});
       }
   </script>

<button onclick="loginCanAccess()">登录才能操作的资源</button>
<script>
       function loginCanAccess(){
            $.httpRequestAsyncPost("/loginCanAccess",
  	    		{},
  	    		function(result){
  	    			console.log(result)
                    if(result == 'Hello world-heshengjin-何胜金'){location.href = "/hello"}
                    else{alert('登录成功')}
  	    		},
  	    		function(result){
  	    			console.log(result.toString());
  	    		});
       }
   </script>
</body>
</html>
